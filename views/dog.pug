extends layout

block content
  h1= title
  - var results = results ;
  div(class="container-fluid")
    div(class="row m-1")
    each item in results
      - let destination1 = `dispatch(\"/dog/update?id=${item._id}\")`
      - let destination2 = `dispatch(\"/dog/create\")`
      - let destination3 = `dispatch(\"/dog/detail?id=${item._id}\")`
      - let destination4 = `dispatch(\"/dog/delete?id=${item._id}\")`
      div(class="col-sm-2") dog name:#{item.dog_name}, dog breed:#{item.dog_breed}, dog cost:#{item.dog_cost}, dog color:#{item.dog_color}
        button.btn( class="btn-primary ml-1", onclick= destination1) Update 
        button.btn( class="btn-primary ml-1", onclick= destination2) Create 
        button.btn( class="btn-primary ml-1", onclick= destination3) Detail
        button.btn( class="btn-primary ml-1", onclick= destination4) Delete
  br
  h4= 'Bonus- Click on below for getting price'
  div(class="container-fluid")
    each dog ,index in results
      div(class="row", onclick=`buy(${index})`)
        div(class="col-sm-2") <br>dog  #{index}: #{dog.dog_name} breed:#{dog.dog_breed} cost:#{dog.dog_cost} color:#{dog.dog_color}

  script. 
        function buy(price){
          alert('You purchased item ' + price)
        }
        function dispatch(path){ 
          window.location.href=path 
        } 
